# Enhanced ADGM Corporate Agent with RAG

An AI-powered legal compliance assistant for Abu Dhabi Global Market (ADGM) corporate documents. This agent helps ensure your legal documents comply with ADGM regulations by automatically reviewing and flagging potential issues.

## Features

- **RAG-Powered Analysis**: Uses Retrieval-Augmented Generation with FAISS vector database for accurate legal context
- **Automatic Process Detection**: Intelligently detects legal process from uploaded documents
- **Multi-Document Support**: Processes both `.docx` and `.pdf` files
- **Comprehensive Compliance Check**: Reviews documents against ADGM Companies Regulations 2020, Employment Regulations 2019, and UBO Regulations 2021
- **Inline Comments**: Automatically adds comments and highlights to DOCX files for flagged content
- **Enhanced Document Requirements**: Comprehensive checklists for Company Incorporation, Licensing Application, and Employment Setup
- **Document Completeness Check**: Verifies if all required documents for a process are uploaded
- **Export Capabilities**: Generates detailed reports in JSON and reviewed documents with inline comments
- **Example Document Creation**: Generate sample documents for testing

## Installation

1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd adgm-corporate-agent
   ```

2. Create a virtual environment:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # On Windows: .venv\Scripts\activate
   ```

3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## Configuration

### Groq API Key Setup

1. Get your free Groq API key from [Groq Console](https://console.groq.com/)
   - Sign up for a free account
   - Navigate to "API Keys" section
   - Create a new API key
   - Copy the API key to your clipboard

2. Set up environment variables:
   Create a `.env` file in the project root with your Groq API key:
   ```
   groq_api_key=your_groq_api_key_here
   ```

### Legal Process Types

Choose from:
- Auto-Detect (automatically identifies the process from uploaded documents)
- Company Incorporation
- Licensing Application
- Employment Setup

## Examples

The `examples` folder contains sample documents and an output JSON file to help you understand how the agent works:

- `ADGM DPR 2021 Appropriate Policy Document.pdf` - A PDF document for compliance checking
- `ADGM Standard Employment Contract Template - ER 2024 (Feb 2025).docx` - An employment contract template
- `adgm-ra-resolution-multiple-incorporate-shareholders-LTD-incorporation-v2 (1).docx` - A shareholders resolution document
- `Private Company Limited by Guarantee Non-Financial Services 20231228.pdf` - A company incorporation document
- `Templates_SHReso_AmendmentArticles-v1-20220107.docx` - A shareholder resolution template
- `output.json` - An example of the JSON report generated by the agent

You can use these documents to test the agent's functionality and see how it identifies compliance issues.

## Usage

1. Start the application:
   ```bash
   python agent.py
   ```

2. Access the web interface at `http://localhost:7860`

3. Select a legal process type from the dropdown (or use "Auto-Detect")

4. Upload your legal documents (.docx or .pdf)

5. Click "Analyze Documents with Enhanced RAG"

6. Review the compliance analysis and download:
   - JSON Compliance Report
   - Reviewed documents with inline comments (in a ZIP file)

## Document Requirements

### Company Incorporation
- Articles of Association
- Memorandum of Association
- Board Resolution for Incorporation
- UBO Declaration Form
- Register of Members and Directors
- Incorporation Application Form

### Licensing Application
- License Application Form
- Business Plan
- Financial Projections
- Board Resolution for Licensing
- Professional Qualification Certificates
- Compliance Manual

### Employment Setup
- Employment Contract Template
- Employee Handbook
- HR Policies Manual
- Workplace Health & Safety Policy
- Data Protection Policy

## Example Output

The agent generates detailed compliance reports like:

```json
{
  "process": "Employment Setup",
  "process_detection_confidence": 0.48,
  "documents_uploaded": 5,
  "uploaded_document_types": [
    "Data Protection Policy",
    "Employment Contract",
    "Articles of Association",
    "UBO Declaration",
    "Articles of Association"
  ],
  "required_documents": 15,
  "required_document_list": [
    "Employment Contract Template",
    "Employee Handbook",
    "HR Policies Manual",
    "Workplace Health & Safety Policy",
    "Data Protection Policy"
  ],
  "missing_documents": [
    "Employment Contract Template",
    "Memorandum of Association",
    "HR Policies Manual",
    "UBO Declaration Form",
    "Workplace Health & Safety Policy",
    "Board Resolution for Incorporation",
    "Incorporation Application Form",
    "Register of Members and Directors",
    "Register of Members",
    "Employee Handbook",
    "Board Resolution"
  ],
  "issues_found": [
    {
      "section_heading": "Introduction to this Guidance",
      "text_snippet": "Abu Dhabi Global Market (ADGM) is a broad based international financial centre, established pursuant to Abu Dhabi Law No. 4 of 2013 in the Emirate of Abu Dhabi.",
      "issue": "Lack of explicit reference to ADGM Courts as the exclusive jurisdiction for dispute resolution",
      "severity": "Medium",
      "rule_reference": "ADGM Companies Regulations 2020, Article 6",
      "suggestion": "Add a clause explicitly stating ADGM Courts as the exclusive jurisdiction for dispute resolution",
      "confidence": 0.85,
      "document": "Data Protection Policy"
    }
  ],
  "timestamp": "2025-08-11T12:09:17.292546",
  "report_version": "v2.0"
}
```

## File Structure

```
adgm-corporate-agent/
├── agent.py              # Main application code
├── requirements.txt      # Python dependencies
├── README.md             # This file
├── .env                 # Environment variables (not included in repo)
├── examples/             # Sample documents and output examples
│   ├── ADGM DPR 2021 Appropriate Policy Document.pdf
│   ├── ADGM Standard Employment Contract Template - ER 2024 (Feb 2025).docx
│   ├── adgm-ra-resolution-multiple-incorporate-shareholders-LTD-incorporation-v2 (1).docx
│   ├── Private Company Limited by Guarantee Non-Financial Services 20231228.pdf
│   ├── Templates_SHReso_AmendmentArticles-v1-20220107.docx
│   └── output.json
├── .gradio/             # Gradio temporary files
└── .venv/               # Virtual environment (not included in repo)
```

## Troubleshooting

1. **API Key Error**: Ensure your Groq API key is correctly set in the `.env` file
2. **File Processing Error**: Check that your documents are valid .docx or .pdf files
3. **Network Issues**: Verify internet connectivity for API calls to Groq

## Legal Disclaimer

This tool provides automated compliance analysis based on publicly available ADGM regulations. It does not constitute legal advice. For complex legal matters, consult with a qualified legal professional in ADGM.

## Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## License

This project is licensed under the MIT License - see the LICENSE file for details.